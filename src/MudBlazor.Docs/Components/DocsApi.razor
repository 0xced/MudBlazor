@using MudBlazor.Docs.Models
@namespace MudBlazor.Docs.Components


<MudText Typo="Typo.h3">&lt;@Type.Name&gt; API</MudText>

<MudText Typo="Typo.h6" Class="mt-5 mb-3">Properties</MudText>

<MudTable Items="@Properties" Hover="true">
    <HeaderContent>
        <MudTr>
            <MudTh>Name</MudTh>
            <MudTh>Type</MudTh>
            <MudTh>Description</MudTh>
        </MudTr>
    </HeaderContent>
    <RowTemplate>
        <MudTd>@context.Name</MudTd>
        <MudTd>@context.Type</MudTd>
        <MudTd>@context.Description</MudTd>
    </RowTemplate>
</MudTable>

@code {

    [Parameter] public Type Type { get; set; }

    IEnumerable<ApiProperty> Properties {
        get {
            foreach (var property_info in Type.GetPropertyInfosWithAttribute<ParameterAttribute>())
            {
                var doc=property_info.GetDocumentation();
                yield return new ApiProperty() { Name=property_info.Name, Type = property_info.PropertyType.Name, Description = doc };
            }
        }
    }


}
