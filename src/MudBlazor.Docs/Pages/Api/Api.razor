@page "/api/{component}"
@using MudBlazor.Docs.Extensions

@if (ComponentType == null)
{
    <MudProgressCircular Indeterminate="true"></MudProgressCircular>
}
else
{
    <DocsApi Type="@ComponentType"></DocsApi>
}


@code {
    [Parameter] public string component { get; set; }

    public Type ComponentType { get; set; }

    protected override void OnParametersSet()
    {
        try
        {
            if (SpecialCaseComponents.TryGetValue(component, out var type))
            {
                ComponentType = type;
                return;
            }
            var type_name = $"MudBlazor.Mud{component.ToPascalCase()}";
            var assembly = typeof(MudComponentBase).Assembly;
            ComponentType = assembly.GetType(type_name);
        }
        finally {
            StateHasChanged();
        }
    }


    Dictionary<string, Type> SpecialCaseComponents = new Dictionary<string, Type>()
    {
        ["table"] = typeof(MudTable<T>),
    };
}