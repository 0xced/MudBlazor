trigger:
- master
- develop
- net5

variables:
  isMaster: $[eq(variables['Build.SourceBranch'], 'refs/heads/master')]
  isDevelop: $[eq(variables['Build.SourceBranch'], 'refs/heads/develop')]
  isNet5: $[eq(variables['Build.SourceBranch'], 'refs/heads/net5')]

stages:
  - stage: Master
    condition: and(succeeded(), eq(variables.isMaster, true))
    jobs:
    - template: jobs/default-build.yml
      parameters:
        name: Linux
        vmImage: 'ubuntu-latest'
        useDotNet: '3.1.x'

   - stage: Develop
     condition: and(succeeded(), eq(variables.isDevelop, true))
     jobs:
     - template: jobs/default-build.yml
       parameters:
         name: Linux
         vmImage: 'ubuntu-latest'
         useDotNet: '3.1.x'

   - stage: Net5
     condition: and(succeeded(), eq(variables.isNet5, true))
     jobs:
     - template: jobs/default-build.yml
       parameters:
         name: Linux
         vmImage: 'ubuntu-latest'
         useDotNet: '5.0.100'
